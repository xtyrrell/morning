<style>
  /* Big by default (like reference image); scales down when .header2-wrapper--scrolled */
  .header2 {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    align-items: center;
    justify-content: space-between;
    padding: 3.75rem 5rem 1.25rem;
    max-width: 1600px;
    transition: padding 0.25s ease;
  }

  .header2-wrapper--scrolled .header2 {
    padding: 1rem 5rem 0.5rem;
  }

  .header2__logo {
    display: flex;
    align-items: center;
  }

  .header2__logo-link {
    text-decoration: none;
    color: rgb(var(--color-foreground));
    font-family: var(--font-heading-family);
    font-weight: var(--font-heading-weight);
    font-size: 2.75rem;
    letter-spacing: 0.02em;
    text-transform: uppercase;
    transition: font-size 0.25s ease;
  }

  .header2-wrapper--scrolled .header2__logo-link {
    font-size: 1.75rem;
  }

  .header2__logo-link .h2 {
    font-size: inherit;
    margin: 0;
  }

  .header2__logo-image {
    height: auto;
    max-width: 100%;
    transition: transform 0.25s ease;
  }

  .header2-wrapper--scrolled .header2__logo-image {
    transform: scale(0.82);
    transform-origin: left center;
  }

  .header2__nav {
    display: flex;
    align-items: center;
    gap: 2rem;
  }

  .header2__menu {
    display: flex;
    flex-wrap: wrap;
    list-style: none;
    margin: 0;
    padding: 0;
    gap: 2rem;
  }

  .header2__menu-link {
    text-decoration: none;
    color: rgb(var(--color-foreground));
    font-family: var(--font-heading-family);
    font-size: 1.5rem;
    transition: color 0.2s ease, font-size 0.25s ease;
  }

  .header2-wrapper--scrolled .header2__menu-link {
    font-size: 1.3rem;
  }

  .header2__menu-link:hover {
    color: rgb(var(--color-foreground));
  }

  /* Fixed header - stays visible when scrolling on shop, product, about pages */
  .header2-wrapper {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    z-index: 9999;
    background-color: rgb(var(--color-background));
    /* Thin solid black line separating header from content - no gap below */
    border-bottom: 1px solid rgb(var(--color-foreground));
    transition: box-shadow 0.25s ease;
  }

  .header2-wrapper--scrolled {
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.06);
  }

  /* Remove Shopify's section group wrapper from layout flow */
  .shopify-section-group-header-group {
    display: contents;
  }

  /* Spacer reserves space so content is not hidden under fixed header */
  .header-spacer {
    height: 0;
  }

  @media screen and (min-width: 750px) {
    .header-spacer {
      height: 0;
    }
  }

  @media screen and (max-width: 749px) {
    .header-spacer {
      height: 0;
    }
  }
</style>

<div class="header2-wrapper color-{{ section.settings.color_scheme }} gradient">
  <header class="header2 page-width">
    <div class="header2__logo">
      {%- if request.page_type == 'index' -%}
        <h1 class="header2__logo-heading" style="margin: 0; line-height: 0;">
      {%- endif -%}
      <a href="{{ routes.root_url }}" class="header2__logo-link">
        {%- if section.settings.logo != blank -%}
          {%- assign logo_alt = section.settings.logo.alt | default: shop.name | escape -%}
          {%- assign logo_height = section.settings.logo_width | divided_by: section.settings.logo.aspect_ratio -%}
          {{
            section.settings.logo
            | image_url: width: 600
            | image_tag:
              class: 'header2__logo-image',
              width: section.settings.logo_width,
              height: logo_height,
              alt: logo_alt,
              preload: true
          }}
        {%- else -%}
          {% comment %} <span class="h2">{{ shop.name }}</span> {% endcomment %}
          <span class="h2">JADE PATON</span>
        {%- endif -%}
      </a>
      {%- if request.page_type == 'index' -%}
        </h1>
      {%- endif -%}
    </div>

    <nav class="header2__nav">
      {%- if section.blocks.size > 0 -%}
        <ul class="header2__menu">
          {%- for block in section.blocks -%}
            {%- if block.type == 'menu_item' -%}
              <li {{ block.shopify_attributes }}>
                <a href="{{ block.settings.link }}" class="header2__menu-link">
                  {{ block.settings.label }}
                </a>
              </li>
            {%- endif -%}
          {%- endfor -%}
          {%- if cart.item_count > 0 -%}
            <li>
              <a href="{{ routes.cart_url }}" class="header2__menu-link"> Cart ({{ cart.item_count }}) </a>
            </li>
          {%- endif -%}
        </ul>
      {%- endif -%}
    </nav>
  </header>
</div>

<script>
  (function() {
    var wrapper = document.querySelector('.header2-wrapper');
    var spacer = document.querySelector('.header-spacer');
    if (!wrapper || !spacer) return;
    var threshold = 80;
    function update() {
      if (window.scrollY > threshold) {
        wrapper.classList.add('header2-wrapper--scrolled');
      } else {
        wrapper.classList.remove('header2-wrapper--scrolled');
      }
      spacer.style.height = wrapper.offsetHeight + 'px';
    }
    update();
    window.addEventListener('scroll', function() { requestAnimationFrame(update); }, { passive: true });
    window.addEventListener('resize', function() { requestAnimationFrame(update); });
  })();
</script>

{% schema %}
{
  "name": "Header 2",
  "class": "section-header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo image"
    },
    {
      "type": "range",
      "id": "logo_width",
      "min": 50,
      "max": 300,
      "step": 10,
      "default": 100,
      "unit": "px",
      "label": "Logo width"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1"
    }
  ],
  "blocks": [
    {
      "type": "menu_item",
      "name": "Menu item",
      "settings": [
        {
          "type": "text",
          "id": "label",
          "label": "Label",
          "default": "Link"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        }
      ]
    }
  ]
}
{% endschema %}
